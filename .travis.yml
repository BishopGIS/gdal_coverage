# This is the config file for building GDAL and running its autotest suite
# with Travis-ci.org

language: cpp

before_install:
  - wget https://releases.linaro.org/components/toolchain/binaries/5.1-2015.08/armeb-linux-gnueabihf/gcc-linaro-5.1-2015.08-x86_64_armeb-linux-gnueabihf.tar.xz
  - tar xJf  gcc-linaro-5.1-2015.08-x86_64_armeb-linux-gnueabihf.tar.xz

install:
  - export PATH=$PWD/gcc-linaro-5.1-2015.08-x86_64_armeb-linux-gnueabihf/bin:$PATH
  - unset CC
  - unset CXX
  - cd gdal
  - ./configure --host=armeb-linux-gnueabihf --without-libtool
  - make USER_DEFS="-Werror" -j3
  - cd apps
  - make USER_DEFS="-Werror" test_ogrsf

script:
  - echo "done"

notifications:
  email:
    recipients:
      - gdal-commits@lists.osgeo.org

  irc:
    channels:
      - "irc.freenode.org#gdal"
    use_notice: true
    on_success: change
